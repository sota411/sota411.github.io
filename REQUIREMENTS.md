# News & Updates セクション 要件定義書

## 1. プロジェクト概要

### 1.1 目的
ポートフォリオサイトに「News & Updates」セクションを追加し、最新の活動報告やお知らせを訪問者に伝える。

### 1.2 背景
- プロジェクトの更新情報や新しいスキル習得などを定期的に発信したい
- 既存のActivitiesセクション(AI自動生成)とは別に、手動で管理可能なお知らせ機能が必要
- 訪問者が容易に最新情報を確認できるUI/UXが求められる

### 1.3 スコープ
- **対象範囲**: お知らせ記事の作成、管理、表示機能
- **対象外**: コメント機能、RSS配信、検索機能、タグ機能

---

## 2. 機能要件

### 2.1 表示要件

#### 2.1.1 トップページ (index.html)
- **配置位置**: Aboutセクションの直後
- **表示件数**: 直近3件のみ
- **表示形式**: 縦並びリスト(タイムライン方式？)
- **表示項目**:
  - 記事タイトル
  - 投稿日
  - 概要
- **アクション**: クリックで記事詳細ページへ遷移
- **条件分岐**: 4件以上の記事がある場合、「Show More」ボタンを表示

#### 2.1.2 記事一覧ページ (news.html)
- **表示件数**: 全記事
- **ソート順**: 日付降順(新しい順)
- **表示形式**: トップページと同一のリスト形式
- **表示項目**: トップページと同一
- **ナビゲーション**: ヘッダー、フッター、パンくずリスト的な戻るリンク

#### 2.1.3 記事詳細ページ (news-detail.html)
- **アクセス方法**: `news-detail.html?id={記事ID}`
- **表示内容**:
  - 記事タイトル(h1)
  - 投稿日
  - 記事本文(Markdownレンダリング)
- **ナビゲーション**: 記事一覧への戻るリンク
- **エラー処理**: 存在しない記事IDの場合、エラーメッセージと一覧へのリンクを表示

### 2.2 データ管理要件

#### 2.2.1 記事ファイル形式
- **形式**: Markdown (.md)
- **ファイル名規則**: `YYYY-MM-DD-スラッグ.md`
- **Front Matter**:
  ```yaml
  ---
  title: 記事タイトル
  date: YYYY-MM-DD
  ---
  ```
- **本文**: Front Matter以降にMarkdown形式で記述

#### 2.2.2 記事メタデータ
- **ファイル**: `news/index.json`
- **形式**: JSON配列
- **必須フィールド**:
  - `id` (string): 一意の識別子
  - `title` (string): 記事タイトル
  - `date` (string, YYYY-MM-DD): 投稿日
  - `file` (string): Markdownファイル名

#### 2.2.3 記事の追加手順
1. `news/` ディレクトリに Markdown ファイルを作成
2. `news/index.json` に記事メタデータを追加
3. 自動的にサイトに反映される(ビルド不要)

### 2.3 Markdown対応要件

#### サポートする記法
- 見出し: `#`, `##`, `###`
- 段落
- 太字: `**text**`
- 斜体: `*text*`
- リスト: `* item`
- リンク: `[text](url)`
- インラインコード: `` `code` ``
- コードブロック: ` ```code``` `
- 引用: `> quote`

---

## 3. 非機能要件

### 3.1 デザイン要件

#### 3.1.1 デザインシステム統一
- 既存サイトのデザインシステムに準拠
- グラスモーフィズム効果の適用
- ホバーエフェクト: `translateX(10px)` + 背景色変化

#### 3.1.2 タイポグラフィ
- フォント: 'Poppins', 'Noto Sans JP', sans-serif
- タイトル: 1.3rem (モバイル: 1.05rem)
- 概要: 0.95rem (モバイル: 0.9rem)
- 日付: 0.85rem (モバイル: 0.8rem)

### 3.2 レスポンシブデザイン要件

#### ブレークポイント
- デスクトップ: 769px以上
- タブレット: 481px〜768px
- モバイル: 480px以下

#### モバイル最適化
- リスト項目のパディング調整
- フォントサイズの縮小
- ヘッダーのフレックスボックス配置変更(縦並び)

### 3.3 パフォーマンス要件
- 初回ロード時間: 3秒以内(3G回線)
- Lighthouse スコア: 90点以上
- 画像最適化: 遅延読み込み対応
- JavaScriptバンドルサイズ: 既存スクリプトへの追加のみ

### 3.4 アクセシビリティ要件
- セマンティックHTML使用
- キーボードナビゲーション対応
- スクリーンリーダー対応
- ARIA属性の適切な使用
- カラーコントラスト比: WCAG AA準拠

### 3.5 ブラウザ対応
- Chrome: 最新版および1つ前のメジャーバージョン
- Firefox: 最新版および1つ前のメジャーバージョン
- Safari: 最新版および1つ前のメジャーバージョン
- Edge: 最新版

---

## 4. 技術仕様

#### 4.1 ファイル構成
```
/
├── index.html              # トップページ(Newsセクション含む)
├── news.html               # 記事一覧ページ
├── news-detail.html        # 記事詳細ページ
├── css/
│   └── style.css           # グローバルスタイル(Newsセクション追加)
├── js/
│   └── script.js           # メインスクリプト(NewsManager追加)
└── news/
    ├── README.md           # 使い方ガイド
    ├── REQUIREMENTS.md     # 本要件定義書
    ├── index.json          # 記事メタデータ
    └── *.md                # 記事ファイル(Markdown)
```


### 4.4 セキュリティ要件

#### 4.4.1 XSS対策
- ユーザー入力のHTMLエスケープ処理
- `escapeHtml()` メソッドによる `&`, `<`, `>`, `"`, `'` の変換

#### 4.4.2 CSRF対策
- 記事は静的ファイルのため該当なし
- フォーム機能なし

#### 4.4.3 コンテンツセキュリティ
- Markdownパーサーは自前実装(サードパーティライブラリ不使用)
- 外部リンクに `rel="noopener"` 属性付与

---

## 5. UI/UX要件

### 5.1 ユーザーストーリー

#### US-001: 最新のお知らせを確認する
- **As a** 訪問者
- **I want to** トップページで最新3件のお知らせを見る
- **So that** 最近の活動を素早く把握できる

#### US-002: 過去のお知らせを確認する
- **As a** 訪問者
- **I want to** 「Show More」ボタンから全記事を見る
- **So that** 過去の情報も確認できる

#### US-003: お知らせの詳細を読む
- **As a** 訪問者
- **I want to** 気になるお知らせをクリックして詳細を読む
- **So that** 情報の全文を理解できる

### 5.2 インタラクション要件

#### 5.2.1 ホバーエフェクト
- マウスオーバー時に右に10pxスライド
- 背景色の濃度増加
- ボーダー色の変化
- トランジション: 0.3s ease

#### 5.2.2 クリックアクション
- リスト項目全体がクリック可能
- クリック時に記事詳細ページへ遷移
- 新しいタブで開かない(同一タブ遷移)

#### 5.2.3 ローディング状態
- データ読み込み中はスピナーとテキストを表示
- スピナーアニメーション: 回転(1s linear infinite)

### 5.3 アニメーション要件
- AOS (Animate On Scroll) による `fade-up` アニメーション
- デュレーション: 800ms
- オフセット: 100px
- once: true (一度だけ実行)

---

## 6. 運用要件

### 6.1 記事作成ガイドライン

#### 6.1.1 記事タイトル
- 最大文字数: 60文字(推奨)
- 内容が明確に伝わる簡潔なタイトル
- SEOを考慮したキーワード含有

#### 6.1.2 概要(最初の段落)
- 文字数: 100〜150文字(推奨)
- 記事の要点を簡潔に説明
- 読者の興味を引く内容

#### 6.1.3 本文
- 見出しを活用した構造化
- 1段落 = 3〜5文程度
- 適切なリストや強調の使用

### 6.2 メンテナンス要件

#### 6.2.1 定期メンテナンス
- 頻度: 必要に応じて
- 内容: 古い記事の整理、リンク切れチェック

#### 6.2.2 バックアップ
- Git履歴による自動バックアップ
- GitHub Pagesへのデプロイ時に自動保存

### 6.3 更新手順
1. `news/` ディレクトリに新規Markdownファイル作成
2. `news/index.json` に記事メタデータ追加
3. Git commit & push
4. GitHub Pages自動デプロイ(約1分)

---

## 7. テスト要件

### 7.1 機能テスト

#### 7.1.1 表示テスト
- [ ] トップページに直近3件が表示される
- [ ] 4件以上ある場合、Show Moreボタンが表示される
- [ ] 3件以下の場合、Show Moreボタンが非表示
- [ ] 記事一覧ページに全記事が表示される
- [ ] 日付順(新しい順)でソートされている
- [ ] 概要が150文字に制限されている

#### 7.1.2 遷移テスト
- [ ] リスト項目クリックで詳細ページへ遷移
- [ ] Show Moreボタンで一覧ページへ遷移
- [ ] 詳細ページの戻るリンクで一覧ページへ遷移
- [ ] URLパラメータが正しく渡される

#### 7.1.3 エラーハンドリング
- [ ] 存在しない記事IDでエラー表示
- [ ] index.json読み込み失敗時の空状態表示
- [ ] Markdownファイル読み込み失敗時の代替テキスト表示

### 7.2 レスポンシブテスト
- [ ] デスクトップ(1920px)で正常表示
- [ ] タブレット(768px)で正常表示
- [ ] モバイル(375px)で正常表示
- [ ] 横向きモバイル(667px)で正常表示

### 7.3 ブラウザ互換性テスト
- [ ] Chrome 最新版
- [ ] Firefox 最新版
- [ ] Safari 最新版
- [ ] Edge 最新版

### 7.4 パフォーマンステスト
- [ ] Lighthouse Performance スコア: 90点以上
- [ ] First Contentful Paint: 1.8秒以内
- [ ] Time to Interactive: 3.8秒以内

---

## 8. 制約事項

### 8.1 技術的制約
- サードパーティMarkdownパーサー不使用(自前実装)
- バックエンドAPIなし(完全静的サイト)
- データベース不使用(JSONファイルで管理)
- 画像アップロード機能なし

### 8.2 運用上の制約
- 記事の追加はGit経由のみ
- リアルタイム更新不可(デプロイ後反映)
- コメント機能なし
- 検索機能なし

### 8.3 スケーラビリティ
- 想定記事数: 100件程度まで
- それ以上の場合はページネーション実装を検討

---

## 9. 今後の拡張検討事項

### 9.1 Phase 2候補機能
- [ ] タグ機能
- [ ] カテゴリ分類
- [ ] 検索機能
- [ ] ページネーション(10件/ページ)
- [ ] RSS配信
- [ ] OGP画像設定

### 9.2 Phase 3候補機能
- [ ] コメント機能(外部サービス連携)
- [ ] 閲覧数カウンター
- [ ] 関連記事の自動表示
- [ ] 記事共有ボタン(SNS)

---

## 10. 承認

### 10.1 承認者
- プロジェクトオーナー: sota411

### 10.2 承認日
- 要件定義完了日: 2025-11-18

### 10.3 変更履歴
| 日付 | バージョン | 変更内容 | 承認者 |
|------|-----------|---------|--------|
| 2025-11-18 | 1.0.0 | 初版作成 | - |
| 2025-11-18 | 1.0.1 | サンプル記事4件とindex.json初期データ追加、news/README.mdで運用手順追記、Newsカード/詳細にグラス効果用tint・shine要素を挿入、NewsページにHome戻り導線（一覧・詳細）を追加 | sota411 |

---

## 11. 用語集

| 用語 | 説明 |
|------|------|
| Front Matter | Markdownファイルの先頭に記述するYAML形式のメタデータ |
| スラッグ | URLやファイル名に使用する英数字とハイフンのみの識別子 |
| グラスモーフィズム | 半透明の背景にぼかし効果を適用したデザイン手法 |
| AOS | Animate On Scroll - スクロールアニメーションライブラリ |
| XSS | Cross-Site Scripting - Webアプリケーションの脆弱性 |
| OGP | Open Graph Protocol - SNSでのリンク共有時の表示情報 |

---

**文書管理情報**
- ファイル名: `REQUIREMENTS.md`
- 保存場所: `/home/sota411/Documents/project/sota411.github.io/news/`
- 最終更新: 2025-11-18
